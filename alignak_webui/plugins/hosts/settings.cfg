; ------------------------------------------------------------------------------------------
; Plugin configuration file formatted as RFC822 standard
; ------------------------------------------------------------------------------------------

[hosts]
; Plugin global configuration
; enabled=True

[table]
; Table global configuration
page_title=Hosts table (%d items)
visible=True
orderable=True
editable=True
selectable=True
searchable=True
responsive=False
css=display nowrap

[table.name]
type=string
title=Host name
searchable=True
regex=True
orderable=True
hint=This field is the host name
editable=True
required=True
empty=False
unique=True

[table.ls_state]
type=string
title=Status
allowed=UP,DOWN,UNREACHABLE
hint=This field is the host status
editable=False
required=True
empty=False
unique=True

[table.overall_state]
type=string
title=Overall status
allowed=ok,acknowledged,in_downtime,warning,critical
hint=This field is the real host status, aggregating services status
editable=False
visible=True

[table._realm]
title=Realm
type=objectid
searchable=True
allowed=inner://realms/list
resource=realm
regex=False
visible=True
hidden=True

[table._is_template]
title=Template
default=False
type=boolean
visible=False
hidden=False

[table._templates]
title=Templates
type=list
content_type=objectid
default=[]
allowed=inner://hosts/templates
format=multiple
resource=host
visible=False
regex=False
hidden=True

[table._template_fields]
title=Template fields
type=list
content_type=string
default=[]
format=multiple
visible=False
hidden=True

[table.definition_order]
title=Definition order
type=integer
default=100
visible=False
orderable=True
editable=True
hidden=True

[table.tags]
title=Tags
type=list
content_type=string
default=[]
allowed=inner://hosts/templates
format=multiple
regex=False

[table.alias]
title=Host alias
type=string

[table.display_name]
title=Host display name
type=string
visible=False
hidden=True

[table.notes]
title=Notes
type=string
hint=This field has a very specific formatted structure ...
format=textarea
visible=False
hidden=True

[table.notes_url]
title=Notes URL
type=string
hint=This field has a very specific formatted structure ...
visible=False
hidden=True

[table.action_url]
title=Action URL
type=string
hint=This field has a very specific formatted structure ...
visible=False
hidden=True

[table.address]
title=Address
type=string
required=True
format=ip
hint=This field is the host IP address or DNS name.

[table.customs]
title=Customs
type=dict
default={}
format=multiple
hidden=True

[table.check_command]
title=Check command
type=objectid
allowed=inner://commands/list
required=True
resource=command
regex=False
hidden=True

[table.check_command_args]
title=Check command arguments
type=string
searchable=False
hint=This field contains the check command arguments (if any...)
hidden=True

[table.check_period]
title=Check period
type=objectid
allowed=inner://timeperiods/list
required=True
resource=timeperiod
regex=False

[table.check_interval]
title=Check interval
type=integer
default=5
hint=Number of minutes between regular host check.
visible=False
hidden=True

[table.retry_interval]
title=Retry interval
type=integer
default=2
hint=Number of minutes between host check retries.
visible=False
hidden=True

[table.max_check_attempts]
title=Maximum check attempts
type=integer
default=3
hint=Number of host check retries before declaring the host DOWN if the check command fails.
visible=False
hidden=True

[table.active_checks_enabled]
title=Active checks enabled
type=boolean
default=True
hint=Is the host actively checked?

[table.passive_checks_enabled]
title=Passive checks enabled
type=boolean
default=True
hint=Does the host accept passive checks?

[table.parents]
title=Parents
type=list
content_type=objectid
allowed=inner://hosts/list
searchable=False
format=multiple
resource=host
visible=False
regex=False
hidden=True

[table.business_impact]
title=Business impact
type=integer
default=2
hint=Host business impact level
allowed=0,1,2,3,4,5
allowed_0=None
allowed_1=Low
allowed_2=Normal
allowed_3=Important
allowed_4=Very important
allowed_5=Business critical

[table.users]
title=Users
type=list
content_type=objectid
allowed=inner://users/list
searchable=False
format=multiple
resource=user
visible=False
regex=False
hidden=True

[table.usergroups]
title=Users groups
type=list
content_type=objectid
allowed=inner://usergroups/list
searchable=False
format=multiple
resource=usergroup
visible=False
regex=False
hidden=True

[table.notifications_enabled]
title=Notifications enabled
type=boolean
default=True

[table.notification_period]
type=objectid
required=True
allowed=inner://timeperiods/list
title=Notification period
resource=timeperiod
regex=False

[table.notification_interval]
title=Notification interval
type=integer
default=120
hint=Number of minutes between each re-notification if host is not UP. 0 to disable re-notifications.
visible=False
hidden=True

[table.first_notification_delay]
title=First notification delay
type=integer
default=0
hint=Number of minutes before sending the first problem notification.
visible=False
hidden=True

[table.notification_options]
title=Notification options
type=list
default=['r','d','u']
allowed=d,u,r,f,s,n
allowed_d=on DOWN state
allowed_u=on UNREACHABLE state
allowed_r=on recovery
allowed_f=on flapping start/stop
allowed_s=on scheduled downtime begin/end
allowed_n=no notifications
format=multiple
visible=False
hidden=True

[table.maintenance_period]
title=Maintenance period
type=objectid
default=Never
required=True
allowed=inner://timeperiods/list
resource=timeperiod
hint=Recurring downtime period during which the host checks are still launched.
visible=False
regex=False
hidden=True

[table.snapshot_enabled]
title=Snapshot enabled
type=boolean
default=False
hint=Snapshot allowed for this host
hidden=True

[table.snapshot_period]
title=Snapshot period
type=objectid
default=Never
allowed=inner://timeperiods/list
resource=timeperiod
hint=Period during which snapshots are allowed
visible=False
regex=False
hidden=True

[table.snapshot_command]
title=Snapshot command
type=objectid
allowed=inner://commands/list
required=False
resource=command
hint=Command to launch a snapshot
visible=False
regex=False
hidden=True

[table.snapshot_criteria]
title=Snapshot criteria
type=list
default=[]
allowed=d,u
allowed_d=on DOWN state
allowed_u=on UNREACHABLE state
format=multiple
hint=The snapshot occur on each defined state.
visible=False
hidden=True

[table.snapshot_interval]
title=Snapshot interval
type=integer
default=5
hint=Number of minutes between each snapshot.
visible=False
hidden=True

[table.location]
title=Location
type=point
default={"type": "Point", "coordinates": [46.60611, 1.87528]}
hint=Host location on a map.

[table.stalking_options]
title=Stalking options
type=list
default=[]
allowed=o,d,u
allowed_o=on UP state
allowed_d=on DOWN state
allowed_u=on UNREACHABLE state
format=multiple
visible=False
hidden=True

[table.initial_state]
title=Initial state
type=string
default=u
allowed=o,d,u
allowed_o=UP state
allowed_d=DOWN state
allowed_u=UNREACHABLE state
visible=False
hidden=True

[table.check_freshness]
title=Freshness check enabled
type=boolean
default=False

[table.freshness_threshold]
title=Freshness threshold
type=integer
default=120
visible=False
hidden=True

[table.freshness_state]
title=Freshness state
type=string
allowed=o,d,u
allowed_o=UP state
allowed_d=DOWN state
allowed_u=UNREACHABLE state
visible=False
hidden=True

[table.flap_detection_enabled]
title=Flapping detection enabled
type=boolean
default=True

[table.flap_detection_options]
title=Flapping detection options
type=list
default=['o','d','u']
allowed=o,d,u
allowed_o=on UP state
allowed_d=on DOWN state
allowed_u=on UNREACHABLE state
visible=False
hidden=True

[table.low_flap_threshold]
title=Low flapping threshold
type=integer
default=0
hint=0 to use the Alignak global configured value
visible=False
hidden=True

[table.high_flap_threshold]
title=High flapping threshold
type=integer
default=0
hint=0 to use the Alignak global configured value
visible=False
hidden=True

[table.event_handler_enabled]
title=Event handler enabled
type=boolean
default=False

[table.event_handler]
title=Event handler command
type=objectid
allowed=inner://commands/list
searchable=True
resource=command
visible=False
regex=False
hidden=True

[table.process_perf_data]
title=Process performance data
type=boolean
default=True
hidden=True

[table.obsess_over_host]
title=Obsessed over
type=boolean
default=False
hint=This directive determines whether or not checks for the host will be "obsessed" over using the ochp_command.
hidden=True

[table.failure_prediction_enabled]
title=Failure prediction enabled
type=boolean
default=False
hidden=True

[table.poller_tag]
title=Poller tag
type=string
default=
visible=False
hidden=True

[table.reactionner_tag]
title=Reactionner tag
type=string
default=
visible=False
hidden=True

[table.ls_last_check]
type=datetime
title=Last check
editable=False

[table.ls_state_type]
type=string
title=State type
allowed=HARD,SOFT
editable=False

[table.ls_state_id]
type=integer
title=State id
allowed=0,1,2,3,4
editable=False

[table.ls_acknowledged]
type=boolean
title=Acknowledged
editable=False

[table.ls_downtime]
type=boolean
title=In scheduled downtime
editable=False

[table.ls_output]
type=string
title=Output
editable=False

[table.ls_long_output]
type=string
title=Long output
editable=False

[table.ls_perf_data]
type=string
title=Performance data
editable=False

[table.ls_current_attempt]
type=integer
title=Current attempt
editable=False

[table.ls_max_attempts]
type=integer
title=Max attempts
editable=False

[table.ls_next_check]
type=integer
title=Next check
editable=False

[table.ls_last_state_changed]
type=integer
title=Last state changed
editable=False

[table.ls_last_state]
type=string
title=Last state
allowed=OK,WARNING,CRITICAL,UNKNOWN,UP,DOWN,UNREACHABLE
editable=False

[table.ls_last_state_type]
type=string
title=Last state type
allowed=HARD,SOFT
editable=False

[table.ls_latency]
type=float
title=Latency
editable=False

[table.ls_execution_time]
type=float
title=Execution time
editable=False

; Nagios/Shinken ignored parameters
; UI parameters:
; - icon_image
; - icon_image_alt
; - vrml_image
; - statusmap_image
; - 2d_coords
; - 3d_coords
; - icon_set
; Other parameters:
; - hostgroups, host/hostgroup relation are in the hostgroups
; - contacts, contactgroups are replaced with users and usergroups
; - service_overrides, service_excludes and service_includes does not seem useful in the context of a Web UI
; - labels are replaced with tags
; - triggers ...
; - business rules fields are not yet implemented
; - result modulations are not yet implemented

; ------------------------------------------------------------------------------------------
; Host view (first host page tab) configuration
; Each service has its own section containing:
; - name: regex to find the service
; - metrics: regex to find the metrics
; - uom: regex to find the metrics UOM
; - type: type of the chart to draw
;   bar, horizontalBar, ... see http://www.chartjs.org/docs
;   default is to draw a 'bar' chart
;
; The section name is built with an host tag, a dot, and a configuration name. As of it, if
; an host is tagged, this tag will define the configuration for each service.
;
; [linux-nrpe.load]
;   -> a service identified with load for an host having the 'linux-nrpe' tag
; name=Load
;   -> the real host service description must match this regexp
; type=horizontalBar
;   -> the associated chart will be an horizontal bars chart
; metrics=^load_1_min|load_5_min|load_15_min$
;   -> the metrics matching this regexp will be displayed in the chart
; uom=
;   -> whatever the uom is
; ------------------------------------------------------------------------------------------
; !!! Important note: % sign must be escaped with a % sign, as of it: % -> %%
; ------------------------------------------------------------------------------------------

; ------------------------------------------------------------------------------------------
; For an host with the tag linux-nrpe
; ------------------------------------------------------------------------------------------
[linux-nrpe.host_check]
name=host_check
type=bar
metrics=^rta$
uom=

[linux-nrpe.load]
name=Load
type=horizontalBar
metrics=^load_1_min|load_5_min|load_15_min$
uom=

[linux-nrpe.procs]
name=Procs
type=bar
metrics=^procs$
uom=

[linux-nrpe.zombies]
name=Zombies
type=bar
metrics=^procs$
uom=

[linux-nrpe.check_hda1]
name=check_hda1
type=bar
metrics=^/$
uom=


; ------------------------------------------------------------------------------------------
; For an host with the tag unix-nrpe
; ------------------------------------------------------------------------------------------
[unix-nrpe.host_check]
name=host_check
type=bar
metrics=^rta$
uom=

[unix-nrpe.load]
name=Load
type=horizontalBar
metrics=^load_1_min|load_5_min|load_15_min$
uom=

[unix-nrpe.procs]
name=Procs
type=bar
metrics=^procs$
uom=

[unix-nrpe.zombies]
name=Zombies
type=bar
metrics=^procs$
uom=

[unix-nrpe.check_root]
name=/root
type=bar
metrics=^/$
uom=

[unix-nrpe.check_var]
name=/var
type=bar
metrics=^/$
uom=

[unix-nrpe.check_usr]
name=/usr
type=bar
metrics=^/$
uom=

[unix-nrpe.check_tmp]
name=/tmp
type=bar
metrics=^/$
uom=


; ------------------------------------------------------------------------------------------
; For an host with the tag nsca-host (NSClient ++ monitored Windows hosts)
; ------------------------------------------------------------------------------------------
[nsca-host.host_check]
name=host_check
type=bar
metrics=^uptime|Uptime$
uom=

[nsca-host.load]
name=load|Load
type=horizontalBar
metrics=min(.*)|^load_1|^load_5|^load_15|^load1$|^load5$|^load15$
uom=

[nsca-host.cpu]
name=nsca_cpu
; type=bar
metrics=^total 1m$|^total 5m$|^total 5s$
uom=%%

[nsca-host.cpu2]
name=nsca_cpu
type=gauge
metrics=^total 1m$
uom=%%

[nsca-host.mem]
name=nsca_memory
type=horizontalBar
metrics=^committed %%$|^physical %%$
uom=%%

[nsca-host.disk]
name=nsca_disk
type=horizontalBar
metrics=^(.):\\ used %%$
uom=%%
